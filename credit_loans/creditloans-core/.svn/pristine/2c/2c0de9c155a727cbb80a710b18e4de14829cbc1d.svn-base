<?xml version="1.0" encoding="utf-8"?>
<base name="validate_SelfApplyInfo">
  <define_item>
    <attribute name="uuid" desc="唯一码" type="LONG" allow_null="no" use="yes">
    	<length value="19"/>
    </attribute>
    <attribute name="uuid" desc="唯一码的前三位必须为传入行的银行代码" begin_pos="0" end_pos="3" type="INT" allow_null="no" use="yes">
      <!--等于传入的银行代码，这个参数会从外部获取，并put到Validator中-->
      <compare operator="EQUAL" parameter="#bankID" desc="唯一码的前三位必须为传入行的银行代码"/>
      <list>
        <enumeration value="101"/>
        <enumeration value="102"/>
        <enumeration value="103"/>
        <enumeration value="104"/>
        <enumeration value="105"/>
        <enumeration value="106"/>
        <enumeration value="107"/>
      </list>
    </attribute>
    <attribute name="uuid" desc="唯一码的4~5位必须为传入的业务类型" begin_pos="3" end_pos="5" type="STRING" allow_null="no" use="yes">
      <list>
        <enumeration value="01"/>
        <enumeration value="02"/>
        <enumeration value="03"/>
        <enumeration value="04"/>
        <enumeration value="05"/>
        <enumeration value="06"/>
        <enumeration value="07"/>
        <enumeration value="08"/>
      </list>
      <!--等于传入的业务类型-->
      <compare operator="EQUAL" parameter="#businessType" desc="唯一码的4~5位必须为传入的业务类型"/>
    </attribute>
    <attribute name="uuid" desc="唯一码的6~14位必须为8位日期" begin_pos="5" end_pos="13" type="IDATE" allow_null="no" use="yes"/>
    <attribute name="bank_id" desc="银行名称" type="CSTRING" allow_null="no" use="yes">
      <!--等于传入的银行名称-->
      <compare operator="EQUAL" parameter="#bankName" desc="必须是传入银行的银行名称"/>
      <list>
        <enumeration value="光大"/>
        <enumeration value="广发"/>
        <enumeration value="华夏"/>
        <enumeration value="民生"/>
        <enumeration value="平安"/>
        <enumeration value="兴业"/>
        <enumeration value="中信"/>
      </list>
    </attribute>
    <attribute name="after_loan" desc="贷前/贷后" type="CSTRING" allow_null="no" use="yes">
      <list>
        <enumeration value="贷前"/>
        <enumeration value="贷后"/>
        <enumeration value="未透支"/>
        <enumeration value="未确认"/>
      </list>
    </attribute>
		<attribute name="source" desc="来源" type="CSTRING" allow_null="no" use="yes"><!--来源：本行调查、……-->
    	<maxLen value="250"/>
		</attribute>
		<!--欺诈类型：身份资料被他人冒用、……-->
		<attribute name="fraud_type" desc="欺诈类型" type="CSTRING" allow_null="no" use="yes">
    	<maxLen value="250"/>
		</attribute>
		<!--信息核实状态：可疑、确认-->
		<attribute name="validate_status" desc="信息核实状态" type="CSTRING" allow_null="no" use="yes">
      <list>
        <enumeration value="可疑"/>
        <enumeration value="确认"/>
      </list>
		</attribute>
    <attribute name="name" desc="姓名" type="CSTRING" allow_null="no" use="yes">
    	<maxLen value="250"/>
     	<function value="check_chinese_name"/><!-- 姓名满足条件，中文+.-->
    </attribute>
    <!--代码表：0-身份证；1-户口簿；2-护照；3-军官证；4-士兵证；5-港澳居民来往内地通行证；6-台湾同胞来往内地通行证；7-临时身份证；8-外国人居留证；9-警官证；X-其他证件。-->
    <attribute name="id_type" desc="证件类型" type="CSTRING" allow_null="no" use="yes">
      <list>
        <enumeration value="身份证"/>
        <enumeration value="户口簿"/>
        <enumeration value="护照"/>
        <enumeration value="军官证"/>
        <enumeration value="士兵证"/>
        <enumeration value="港澳居民来往内地通行证"/>
        <enumeration value="台湾同胞来往内地通行证"/>
        <enumeration value="临时身份证"/>
        <enumeration value="外国人居留证"/>
        <enumeration value="警官证"/>
        <enumeration value="其他"/>
      </list>
    </attribute>
    <attribute name="id_number" desc="证件号码" type="CSTRING" allow_null="no" use="yes">
    	<maxLen value="250"/>
    	<rules>
    		<!--function先做一个简单的，就是一个参数，function也可能为空-->
    		<rule name="rule1" desc="如果为身份证，身份证必须满足格式">
    			<condition lhs="$id_type" operator="EQUAL" rhs="身份证" value_type="STRING"></condition>
    			<action function="check_id_no" other_parameters=""></action>
    		</rule>
    	</rules>
    </attribute>
    <attribute name="id_status" desc="证件号码虚假度" type="CSTRING" allow_null="yes" use="yes">
      <list>
        <enumeration value="冒用"/>
        <enumeration value="不存在"/>
        <enumeration value="未确认"/>
      </list>
    </attribute>
    <attribute name="criterion" desc="判断依据" type="CSTRING" allow_null="yes" use="yes">
    	<maxLen value="250"/>
    </attribute>
    <attribute name="mobile" desc="手机号码" type="LONG" allow_null="yes" use="yes">
    	<length value="11"/>
    	<!-- 以后会进行修改 -->
    	<pattern value="^1[3|4|5|8][0-9]\d{4,8}$"/>
    </attribute>
    <attribute name="mobile_status" desc="手机号码虚假度" type="CSTRING" allow_null="yes" use="yes">
      <list>
        <enumeration value="冒用"/>
        <enumeration value="真实"/>
        <enumeration value="不存在"/>
        <enumeration value="未确认"/>
      </list>
    </attribute>
    <attribute name="work_name" desc="单位名称" type="CSTRING" allow_null="yes" use="yes">
    	<maxLen value="250"/>
    </attribute>
    <attribute name="work_name_status" desc="单位名称虚假度" type="CSTRING" allow_null="yes" use="yes">
      <list>
        <enumeration value="冒用"/>
        <enumeration value="真实"/>
        <enumeration value="不存在"/>
        <enumeration value="未确认"/>
      </list>
    </attribute>
    <attribute name="work_address" desc="单位地址" type="CSTRING" allow_null="yes" use="yes">
    	<maxLen value="250"/>
    </attribute>
    <attribute name="work_address_status" desc="单位地址虚假度" type="CSTRING" allow_null="yes" use="yes">
      <list>
        <enumeration value="冒用"/>
        <enumeration value="真实"/>
        <enumeration value="不存在"/>
        <enumeration value="未确认"/>
      </list>
    </attribute>
    <attribute name="work_tel" desc="单位电话" type="CSTRING" allow_null="yes" use="yes">
    	<!--电话号码正则表达式（支持手机号码，3-4位区号，7-8位直播号码，1－4位分机号） ((\d{11})|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$) -->
    	<function value="check_telephone"/><!-- 电话可以是手机也可以是带区号的固定电话 -->
    </attribute>
    <attribute name="work_tel_status" desc="单位电话虚假度" type="CSTRING" allow_null="yes" use="yes">
      <list>
        <enumeration value="冒用"/>
        <enumeration value="真实"/>
        <enumeration value="不存在"/>
        <enumeration value="未确认"/>
      </list>
    </attribute>
    <attribute name="family_address" desc="家庭住址" type="CSTRING" allow_null="yes" use="yes">
    	<maxLen value="250"/>
    </attribute>
    <attribute name="family_address_status" desc="家庭住址虚假度" type="CSTRING" allow_null="yes" use="yes">
      <list>
        <enumeration value="冒用"/>
        <enumeration value="真实"/>
        <enumeration value="不存在"/>
        <enumeration value="未确认"/>
      </list>
    </attribute>
    <attribute name="family_tel" desc="家庭电话" type="CSTRING" allow_null="yes" use="yes">
    	<!--电话号码正则表达式（支持手机号码，3-4位区号，7-8位直播号码，1－4位分机号） ((\d{11})|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$) -->
    	<function value="check_telephone"/><!-- 电话可以是手机也可以是带区号的固定电话 -->
    </attribute>
    <attribute name="family_tel_status" desc="家庭电话虚假度" type="CSTRING" allow_null="yes" use="yes">
      <list>
        <enumeration value="冒用"/>
        <enumeration value="真实"/>
        <enumeration value="不存在"/>
        <enumeration value="未确认"/>
      </list>
    </attribute>
    <attribute name="applied_on" desc="申请日期" type="IDATE" allow_null="yes" use="yes">
     	<!--为空的情况，就不要进行比较-->
    	<compare operator="GREATER_EQUAL" parameter="#begin_date" desc="申请日期不能早于负面信息有效日期"></compare>
    	<compare operator="LESS_EQUAL" parameter="#end_date" desc="申请日期不能晚于有效日期"></compare>
    </attribute>
    <!--IDATE：yyyyMMdd-->
    <attribute name="produced_on" desc="确认日期" type="IDATE" allow_null="yes" use="yes">
     	<!--为空的情况，就不要进行比较-->
    	<compare operator="GREATER_EQUAL" parameter="#begin_date" desc="确认日期不能早于负面信息有效日期"></compare>
    	<compare operator="GREATER_EQUAL" parameter="$applied_on" desc="确认日期不能晚于申请日期"></compare>
    	<compare operator="LESS_EQUAL" parameter="#end_date" desc="确认日期不能晚于有效日期"></compare>
    </attribute>
    <attribute name="comments" desc="" type="CSTRING" allow_null="yes" use="yes">
    	<maxLen value="250"/>
    </attribute>
  </define_item>
</base>

