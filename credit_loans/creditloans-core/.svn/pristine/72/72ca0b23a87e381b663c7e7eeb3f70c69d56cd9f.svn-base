<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 
<mapper namespace="cn.creditloans.core.dao.P2PDkjbxxDao">
	<resultMap type="cn.creditloans.core.entity.p2p.P2PDkjbxx" id="p2pDkjbxxResultMap">
		<id property="id" column="id" />
		<result property="dklx" column="dklx"/>
		<result property="dkhthm" column="dkhthm"/>
		<result property="ywh" column="ywh"/>
		<result property="fsdd" column="fsdd"/>
		<result property="khrq" column="khrq"/>
		<result property="dqrq" column="dqrq"/>
		<result property="jcbz" column="jcbz"/>
		<result property="sxed" column="sxed"/>
		<result property="gxsxed" column="gxsxed"/>
		<result property="zdfze" column="zdfze"/>
		<result property="dbfs" column="dbfs"/>
		<result property="hkpl" column="hkpl"/>
		<result property="hkys" column="hkys"/>
		<result property="syhkys" column="syhkys"/>
		<result property="xdhkqs" column="xdhkqs"/>
		<result property="xdqhke" column="xdqhke"/>
		<result property="jsyhkrq" column="jsyhkrq"/>
		<result property="zjycsjhkrq" column="zjycsjhkrq"/>
		<result property="byyhkje" column="byyhkje"/>
		<result property="bysjhkje" column="bysjhkje"/>
		<result property="ye" column="ye"/>
		<result property="dqyqqs" column="dqyqqs"/>
		<result property="dqyqze" column="dqyqze"/>
		<result property="yqwghdkbj1" column="yqwghdkbj1"/>
		<result property="yqwghdkbj2" column="yqwghdkbj2"/>
		<result property="yqwghdkbj3" column="yqwghdkbj3"/>
		<result property="yqwghdkbj4" column="yqwghdkbj4"/>
		<result property="ljyqqs" column="ljyqqs"/>
		<result property="zgyqqs" column="zgyqqs"/>
		<result property="wjflzt" column="wjflzt"/>
		<result property="zhzt" column="zhzt"/>
		<result property="hkzt" column="hkzt"/>
		<result property="zhyyzxxts" column="zhyyzxxts"/>
		<result property="xm" column="xm"/>
		<result property="zjlx" column="zjlx"/>
		<result property="zjhm" column="zjhm"/>
		<result property="dkhtsxrq" column="dkhtsxrq"/>
		<result property="dkhtzzrq" column="dkhtzzrq"/>
		<result property="htbz" column="htbz"/>
		<result property="dkhtje" column="dkhtje"/>
		<result property="dkhtzt" column="dkhtzt"/>
		<result property="status" column="status"/>
		<result property="userId" column="user_id"/>
		<result property="orgCode" column="org_code"/>
		<result property="createTime" column="create_time"/>
		<result property="updateTime" column="update_time"/>
		<result property="hkqs" column="hkqs"/>
		<result property="syhkqs" column="syhkqs"/>
		<result property="byhkzt" column="byhkzt"/>
	</resultMap>
	
	<sql id="select_all_sql">
		select id, dklx, dkhthm, ywh, fsdd, khrq, dqrq, jcbz, sxed, gxsxed,
		 zdfze, dbfs, hkpl, hkys, syhkys, xdhkqs, xdqhke, jsyhkrq, zjycsjhkrq,
		  byyhkje, bysjhkje, ye, dqyqqs, dqyqze, yqwghdkbj1, yqwghdkbj2, yqwghdkbj3,
		   yqwghdkbj4, ljyqqs, zgyqqs, wjflzt, zhzt, hkzt, zhyyzxxts, xm, zjlx, zjhm,
		    dkhtsxrq, dkhtzzrq, htbz, dkhtje, dkhtzt, status, user_id, org_code,
		     create_time, update_time, hkqs, syhkqs, byhkzt from p2p_dkjbxx
	</sql>
	
	<select id="selectP2PDkjbxxPageCount" parameterType="cn.creditloans.core.entity.p2p.P2PDkjbxx" resultType="int">
		select count(1) from p2p_dkjbxx where org_code = #{orgCode}
		<if test="dklx != null and '' != dklx">  
			and dklx = #{dklx}
		</if>
		<if test="dkhthm != null and '' != dkhthm">  
			and dkhthm like '%${dkhthm}%'
		</if>
		<if test="khrq != null and '' != khrq">  
			and khrq = #{khrq}
		</if>
		<if test="dqrq != null and '' != dqrq">  
			and dqrq = #{dqrq}
		</if>
		<if test="jsyhkrq != null and '' != jsyhkrq">  
			and jsyhkrq = #{jsyhkrq}
		</if>
		<if test="status != 0">  
			and status = #{status}
		</if>
	</select>
	
	<select id="selectP2PDkjbxxPageList" resultMap="p2pDkjbxxResultMap">
		<include refid="select_all_sql" />
		where org_code = #{p2pDkjbxx.orgCode}
		<if test="p2pDkjbxx.dklx != null and '' != p2pDkjbxx.dklx">  
			and dklx = #{p2pDkjbxx.dklx}
		</if>
		<if test="p2pDkjbxx.dkhthm != null and '' != p2pDkjbxx.dkhthm">  
			and dkhthm like '%${p2pDkjbxx.dkhthm}%'
		</if>
		<if test="p2pDkjbxx.khrq != null and '' != p2pDkjbxx.khrq">  
			and khrq = #{p2pDkjbxx.khrq}
		</if>
		<if test="p2pDkjbxx.dqrq != null and '' != p2pDkjbxx.dqrq">  
			and dqrq = #{p2pDkjbxx.dqrq}
		</if>
		<if test="p2pDkjbxx.jsyhkrq != null and '' != p2pDkjbxx.jsyhkrq">  
			and jsyhkrq = #{p2pDkjbxx.jsyhkrq}
		</if>
		<if test="p2pDkjbxx.status != 0">  
			and status = #{p2pDkjbxx.status}
		</if>
		order by create_time desc limit #{pm.pageSize} offset #{pm.startCount}
	</select>
	
	<select id="selectP2PDkjbxxById" parameterType="int" resultMap="p2pDkjbxxResultMap">
		<include refid="select_all_sql" />
		where id = #{id}
	</select>
	
	<select id="selectP2PDkjbxxCountForUnique" parameterType="map" resultType="int">
		select count(1) from p2p_dkjbxx where dkhthm = #{dkhthm} and ywh = #{ywh} and jsyhkrq = #{jsyhkrq} and org_code = #{orgCode}
	</select>
	
	<insert id="insertP2PDkjbxx" parameterType="cn.creditloans.core.entity.p2p.P2PDkjbxx">
		<selectKey order="AFTER" keyProperty="id" resultType="java.lang.Integer">
			SELECT currval('p2p_dkjbxx_id_seq')
		</selectKey>
		insert into p2p_dkjbxx (dklx, dkhthm, ywh, fsdd, khrq, dqrq, jcbz,
		sxed, gxsxed, zdfze, dbfs, hkpl, hkys, syhkys, xdhkqs, xdqhke, jsyhkrq,
		zjycsjhkrq, byyhkje, bysjhkje, ye, dqyqqs, dqyqze, yqwghdkbj1,
		yqwghdkbj2, yqwghdkbj3, yqwghdkbj4, ljyqqs, zgyqqs, wjflzt, zhzt, hkzt,
		zhyyzxxts, xm, zjlx, zjhm, dkhtsxrq, dkhtzzrq, htbz, dkhtje, dkhtzt,
		status, user_id, org_code, create_time, update_time, hkqs, syhkqs, byhkzt)
		values (#{dklx}, #{dkhthm}, #{ywh}, #{fsdd}, #{khrq}, #{dqrq}, #{jcbz},
		#{sxed}, #{gxsxed}, #{zdfze}, #{dbfs}, #{hkpl}, #{hkys}, #{syhkys},
		#{xdhkqs}, #{xdqhke}, #{jsyhkrq}, #{zjycsjhkrq}, #{byyhkje},
		#{bysjhkje}, #{ye}, #{dqyqqs}, #{dqyqze}, #{yqwghdkbj1}, #{yqwghdkbj2},
		#{yqwghdkbj3}, #{yqwghdkbj4}, #{ljyqqs}, #{zgyqqs}, #{wjflzt}, #{zhzt},
		#{hkzt}, #{zhyyzxxts}, #{xm}, #{zjlx}, #{zjhm}, #{dkhtsxrq},
		#{dkhtzzrq}, #{htbz}, #{dkhtje}, #{dkhtzt}, #{status}, #{userId},
		#{orgCode}, now(), now(), #{hkqs}, #{syhkqs}, #{byhkzt})
	</insert>
	
	<update id="updateP2PDkjbxx" parameterType="cn.creditloans.core.entity.p2p.P2PDkjbxx">
		update p2p_dkjbxx set dklx=#{dklx}, dkhthm=#{dkhthm}, ywh=#{ywh},
		fsdd=#{fsdd}, khrq=#{khrq}, dqrq=#{dqrq}, jcbz=#{jcbz}, sxed=#{sxed},
		gxsxed=#{gxsxed}, zdfze=#{zdfze}, dbfs=#{dbfs}, hkpl=#{hkpl},
		hkys=#{hkys}, syhkys=#{syhkys}, xdhkqs=#{xdhkqs}, xdqhke=#{xdqhke},
		jsyhkrq=#{jsyhkrq}, zjycsjhkrq=#{zjycsjhkrq}, byyhkje=#{byyhkje},
		bysjhkje=#{bysjhkje}, ye=#{ye}, dqyqqs=#{dqyqqs}, dqyqze=#{dqyqze},
		yqwghdkbj1=#{yqwghdkbj1}, yqwghdkbj2=#{yqwghdkbj2},
		yqwghdkbj3=#{yqwghdkbj3}, yqwghdkbj4=#{yqwghdkbj4}, ljyqqs=#{ljyqqs},
		zgyqqs=#{zgyqqs}, wjflzt=#{wjflzt}, zhzt=#{zhzt}, hkzt=#{hkzt},
		zhyyzxxts=#{zhyyzxxts}, xm=#{xm}, zjlx=#{zjlx}, zjhm=#{zjhm},
		dkhtsxrq=#{dkhtsxrq}, dkhtzzrq=#{dkhtzzrq}, htbz=#{htbz},
		dkhtje=#{dkhtje}, dkhtzt=#{dkhtzt}, status=#{status},
		user_id=#{userId}, org_code=#{orgCode}, update_time=now(), hkqs=#{hkqs}, syhkqs=#{syhkqs}, byhkzt=#{byhkzt} where id=#{id}
	</update>
	
	<delete id="deleteP2PDkjbxxById" parameterType="int">
		delete from p2p_dkjbxx where id=#{id}
	</delete>
</mapper>